<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:XForm>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>重新登录</title>

<link href="framework/css/css.css" rel="stylesheet" type="text/css">
<link href="framework/css/other.css" rel="stylesheet" type="text/css">

<link href="framework/xform/xform.css" rel="stylesheet" type="text/css">
<link href="framework/balloon/balloon.css" rel="stylesheet" type="text/css">

<script language="javascript" src="framework/core.js"></script>
<script language="javascript" src="framework/ajax.js"></script>
<script language="javascript" src="framework/framework.js"></script>
<script language="javascript" src="framework/balloon/balloon.js"></script>
<script language="javascript" src="framework/xform/xform.js"></script>

<script language="javascript">
<!--

URL_CORE = "framework/";

    /*
     *	后台响应数据节点名称
     */
    XML_USER_NAME = "UserName";
    XML_CLASS_NAME = "ClassName";
    /*
     *	默认唯一编号名前缀
     */
    CACHE_LOGIN_FORM = "login__id";

    window.onload = function(){
        var str = [];
        str[str.length] = "<xform>";
        str[str.length] = "    <declare>";
        str[str.length] = "        <column name=\"password\" caption=\"密　　码\" mode=\"string\"/>";
        str[str.length] = "    </declare>";
        str[str.length] = "    <layout>";
        str[str.length] = "        <TR>";
        str[str.length] = "            <TD width=\"50\"><label binding=\"password\"/></TD>";
        str[str.length] = "            <TD><input binding=\"password\" type=\"password\" style=\"width:130px\" onkeydown=\"autoLogin()\"/></TD>";
        str[str.length] = "        </TR>";
        str[str.length] = "    </layout>";
        str[str.length] = "    <data>";
        str[str.length] = "        <row/>";
        str[str.length] = "    </data>";
        str[str.length] = "</xform>";

        var xmlReader = new XmlReader(str.join(""));
        var loginFormNode = new XmlNode(xmlReader.documentElement);
        var loginXForm = $X("loginForm", loginFormNode);
    }

    function ok() {
        var password = $X("loginForm").getData("password") || "";
        window.returnValue = {password:password};
        window.close();
    }
 
    function autoLogin(){
        if(13 == event.keyCode){
            setTimeout(function(){
                ok();
            }, 100);
        }
    }

//-->
</script>
</head>
<body>
	<div class="dialog">
		<XForm:Box id="loginForm" baseurl="framework/xform/"><div class="loading"></div></XForm:Box>
		<input type="button" id="bt_cancel" value="取 消" class="btWeak" onclick="window.close()"> 
		<input type="button" id="bt_ok" value="确 定" class="btStrong" onclick="ok()">
	</div>
</body>
</html>
