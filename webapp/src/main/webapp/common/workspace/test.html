<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML XMLNS:WorkSpace>
<head>

<link rel=stylesheet type=text/css href=workspace.css>

<style>
body, td{
	font-size:12px;
	line-height:14px;
}
</style>

<script language="javascript" src="../../test/debug.js"></script>
<script language="javascript" src="../../js/core.js"></script>
<script language="javascript" src="../../js/framework.js"></script>
<script language="javascript" src="../balloon/balloon.js"></script>
<script language="javascript" src="workspace.js"></script>
 
<SCRIPT LANGUAGE="JavaScript">
<!--

	var phases = [];
			phases[0] = {page: "page1", label: "编辑组信息"};
			phases[1] = {page: "page2", label: "组对用户"};
			phases[2] = {page: "page3", label: "组对角色"};


	var ws;
	window.onload = function () {
		  var ws = new WorkSpace($("ws"));

			var inf = {};
			inf.label = "页面1";
			inf.SID = "page1"
			inf.defaultPage = "page1";

			inf.phases = phases;
			inf.callback = null;

		  ws.open(inf);
	}

	function switchPage() {
			var list = ["page1", "page2", "page3"];
			if(null == window.curPageIndex){
				window.curPageIndex = 0;
			}
			window.curPageIndex ++;
			if(window.curPageIndex > list.length - 1){
					window.curPageIndex = 0;
			}
			ws.open(list[window.curPageIndex], "页面" + (window.curPageIndex+1));
			var tab = ws.getActiveTab();
			addToHistory(tab);
	}

	function addToHistory(tab) {
			if(null == window.tabHistory){
					window.tabHistory = [];
			}
			window.tabHistory.push(tab);
	}

	function test() {
			var phases = [];
			phases[0] = {page: "page1", label: "编辑组信息"};
			phases[1] = {page: "page2", label: "组对用户"};
			phases[2] = {page: "page3", label: "组对角色"};

			ws.open("page2", "页面 [" + new Date().toLocaleString().split(" ")[1] + "]", phases);
	}

	function test2(){
			if( window.tabHistory ) {
					var tab = window.tabHistory[0];
					alert(tab)
					tab.click();
			}
	}
	
//-->
</SCRIPT>
</HEAD>

<BODY>
  <TABLE width="80%" height="80%" border="1" cellpadding=0>
    <TR>
      <TD width="100" height="100">&nbsp;</TD>
      <TD>
				<INPUT TYPE="button" value="open" onclick="test()"/>
				<INPUT TYPE="button" value="switch" onclick="switchPage()"/>
				<INPUT TYPE="button" value="innerHTML" onclick="Debug.print(ws.innerHTML)"/>
				<INPUT TYPE="button" value="back" onclick="test2()"/>
		  </TD>
    </TR>

    <TR>
      <TD>&nbsp;</TD>
      <TD valign=top>
				<WorkSpace:Box id="ws">
					<WorkSpace:Page id=page1>page1<br/>
						page1<br/>
						page1<br/>
						page1<br/>
						page1<br/>
						page1<br/>
						<a href=# onclick="ws.prevTab(true)">上一标签</a><br/>
						<a href=# onclick="ws.nextTab(true)">下一标签</a><br/>
					</WorkSpace:Page>
					<WorkSpace:Page id=page2>page2<br/>
						<a href=# onclick="ws.prevTab(true)">上一标签</a><br/>
						<a href=# onclick="ws.nextTab(true)">下一标签</a><br/>
						<a href=# onclick="ws.prevPhase(true)">上一步</a><br/>
						<a href=# onclick="ws.nextPhase(true)">下一步</a><br/>
					</WorkSpace:Page>
					<WorkSpace:Page id=page2b>page2b<br/>
						page2b<br/>
						page2b<br/>
						page2b<br/>
						page2b<br/>
						page2b<br/>
						<a href=# onclick="ws.prevPhase(true)">上一步</a><br/>
						<a href=# onclick="ws.nextPhase(true)">下一步</a><br/>
					</WorkSpace:Page>
					<WorkSpace:Page id=page2c>page2c<br/>
						page2c<br/>
						page2c<br/>
						page2c<br/>
						<a href=# onclick="ws.prevPhase(true)">上一步</a><br/>
						<a href=# onclick="ws.nextPhase(true)">下一步</a><br/>
					</WorkSpace:Page>
					<WorkSpace:Page id=page3>page3<br/>
						page3<br/>
						page3<br/>
						<a href=# onclick="ws.prevTab(true)">上一标签</a><br/>
						<a href=# onclick="ws.nextTab(true)">下一标签</a><br/>
					</WorkSpace:Page>
				</WorkSpace:Box>
			</TD>
    </TR>
  </TABLE>
</BODY>
</HTML>
